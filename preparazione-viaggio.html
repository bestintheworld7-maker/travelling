<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Preparazione Viaggio</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            color: #333;
            min-height: 100vh;
            padding-bottom: 60px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0,0,0,0.3);
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        button {
            background-color: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        button:hover, button:active {
            background-color: white;
            color: #667eea;
        }
        
        .back-link {
            margin-top: 10px;
        }
        
        .back-link a {
            color: white;
            text-decoration: none;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .content {
            padding: 20px 15px;
        }
        
        h2 {
            color: #667eea;
            font-size: 18px;
            margin: 25px 0 15px 0;
            padding: 10px 15px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .section-icon {
            font-size: 20px;
            margin-right: 8px;
        }
        
        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        
        li {
            padding: 15px;
            margin: 8px 0;
            background-color: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        li.completed {
            opacity: 0;
            height: 0;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
        
        input[type="checkbox"] {
            width: 24px;
            height: 24px;
            margin-right: 15px;
            cursor: pointer;
            flex-shrink: 0;
            accent-color: #667eea;
        }
        
        label {
            cursor: pointer;
            user-select: none;
            line-height: 1.5;
            font-size: 15px;
            flex: 1;
        }
        
        .progress-bar {
            background-color: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: white;
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        .progress-text {
            margin-top: 8px;
            font-size: 14px;
            opacity: 0.9;
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: 20px;
            }
            
            h2 {
                font-size: 16px;
            }
            
            label {
                font-size: 14px;
            }
            
            button {
                font-size: 12px;
                padding: 8px 15px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>&#9992; PREPARAZIONE VIAGGIO &#127757;</h1>
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">0 / 0 completati (0%)</div>
        <div class="controls">
            <button onclick="toggleCompleted()">Mostra/Nascondi Completati</button>
            <button onclick="resetCheckboxes()">Reset Tutto</button>
        </div>
        <div class="back-link">
            <a href="index.html">← Torna alla Home</a>
        </div>
    </div>

    <div class="content">
        <h2><span class="section-icon">&#128268;</span>Accessori Tecnici</h2>
        <ul>
            <li><input type="checkbox" id="at1" onchange="saveState()"><label for="at1">Attivare eSIM se necessario</label></li>
            <li><input type="checkbox" id="at2" onchange="saveState()"><label for="at2">Controllare tipo di presa elettrica del paese</label></li>
            <li><input type="checkbox" id="at3" onchange="saveState()"><label for="at3">Controllare voltaggi del paese di destinazione</label></li>
            <li><input type="checkbox" id="at4" onchange="saveState()"><label for="at4">Verificare certificazioni necessarie per dispositivi elettronici</label></li>
            <li><input type="checkbox" id="at5" onchange="saveState()"><label for="at5">Verificare limiti mAh per Power Bank</label></li>
        </ul>

        <h2><span class="section-icon">&#127911;</span>Audio e Mappe</h2>
        <ul>
            <li><input type="checkbox" id="am1" onchange="saveState()"><label for="am1">Aggiornare playlist Spotify offline</label></li>
            <li><input type="checkbox" id="am2" onchange="saveState()"><label for="am2">Controllare e sincronizzare percorsi su orologio Garmin</label></li>
            <li><input type="checkbox" id="am3" onchange="saveState()"><label for="am3">Scaricare lingua su Google Translate</label></li>
            <li><input type="checkbox" id="am4" onchange="saveState()"><label for="am4">Scaricare mappe di Google Maps offline</label></li>
            <li><input type="checkbox" id="am5" onchange="saveState()"><label for="am5">Scaricare sentieri su Komoot offline e inviarli a Garmin</label></li>
        </ul>

        <h2><span class="section-icon">&#127760;</span>Controlli Generali</h2>
        <ul>
            <li><input type="checkbox" id="cg1" onchange="saveState()"><label for="cg1">Consultare il sito ViaggiareSicuri per avvisi e raccomandazioni</label></li>
            <li><input type="checkbox" id="cg2" onchange="saveState()"><label for="cg2">Controllare fuso orario della destinazione</label></li>
            <li><input type="checkbox" id="cg3" onchange="saveState()"><label for="cg3">Controllare previsioni meteo</label></li>
            <li><input type="checkbox" id="cg4" onchange="saveState()"><label for="cg4">Controllare se serve visto o permesso d'ingresso</label></li>
            <li><input type="checkbox" id="cg5" onchange="saveState()"><label for="cg5">Verificare disponibilità di taxi e monopattini</label></li>
            <li><input type="checkbox" id="cg6" onchange="saveState()"><label for="cg6">Verificare regolamento su alcolici (vendita e consumo all'aperto)</label></li>
        </ul>

        <h2><span class="section-icon">&#128221;</span>Controlli e Prenotazioni</h2>
        <ul>
            <li><input type="checkbox" id="cp1" onchange="saveState()"><label for="cp1">Cercare locali per craft beer, birre locali da provare e dove comprare lattine di birra</label></li>
            <li><input type="checkbox" id="cp2" onchange="saveState()"><label for="cp2">Cercare luoghi per healthy food, veg, poké, hamburger, pancake, waffle, ciambelle</label></li>
            <li><input type="checkbox" id="cp3" onchange="saveState()"><label for="cp3">Cercare ristoranti, bar, pub, gelaterie, forni/bakery, mangiare tipico e street food</label></li>
            <li><input type="checkbox" id="cp4" onchange="saveState()"><label for="cp4">Controllare gomme e livelli dell'auto</label></li>
            <li><input type="checkbox" id="cp5" onchange="saveState()"><label for="cp5">Individuare dove collezionare monete e banconote (distributori automatici, negozi)</label></li>
            <li><input type="checkbox" id="cp6" onchange="saveState()"><label for="cp6">Individuare punti cambio valuta</label></li>
            <li><input type="checkbox" id="cp7" onchange="saveState()"><label for="cp7">Informarsi su cosa mangiare e bere tipico</label></li>
            <li><input type="checkbox" id="cp8" onchange="saveState()"><label for="cp8">Organizzare spostamenti dall'aeroporto al centro e verificare abbonamenti mezzi pubblici</label></li>
            <li><input type="checkbox" id="cp9" onchange="saveState()"><label for="cp9">Prenotare eventuali musei e biglietti d'ingresso</label></li>
            <li><input type="checkbox" id="cp10" onchange="saveState()"><label for="cp10">Prenotare parcheggio auto</label></li>
            <li><input type="checkbox" id="cp11" onchange="saveState()"><label for="cp11">Prenotare ristoranti e locali</label></li>
            <li><input type="checkbox" id="cp12" onchange="saveState()"><label for="cp12">Ricercare e prenotare escursioni su GetYourGuide o Viator</label></li>
            <li><input type="checkbox" id="cp13" onchange="saveState()"><label for="cp13">Ricercare supermercati, merende e colazioni</label></li>
            <li><input type="checkbox" id="cp14" onchange="saveState()"><label for="cp14">Salvare punti di interesse su Google Maps</label></li>
            <li><input type="checkbox" id="cp15" onchange="saveState()"><label for="cp15">Sottoscrivere assicurazione viaggio</label></li>
        </ul>

        <h2><span class="section-icon">&#127916;</span>Intrattenimento</h2>
        <ul>
            <li><input type="checkbox" id="int1" onchange="saveState()"><label for="int1">Scaricare film e manga su tablet</label></li>
        </ul>

        <h2><span class="section-icon">&#128241;</span>Applicazioni e Impostazioni</h2>
        <ul>
            <li><input type="checkbox" id="ai1" onchange="saveState()"><label for="ai1">Installare applicazioni utili per il viaggio</label></li>
            <li><input type="checkbox" id="ai2" onchange="saveState()"><label for="ai2">Installare widget fuso orario sul telefono e applicazioni necessarie per le vacanze</label></li>
            <li><input type="checkbox" id="ai3" onchange="saveState()"><label for="ai3">Modificare impostazioni rete dati (attivare risparmio dati, disattivare backup foto automatico, ecc.)</label></li>
            <li><input type="checkbox" id="ai4" onchange="saveState()"><label for="ai4">Registrare volo sull'app del telefono</label></li>
            <li><input type="checkbox" id="ai5" onchange="saveState()"><label for="ai5">Scaricare biglietti PDF sul telefono e prenotazioni volo/hotel (richiesti per controlli immigrazione)</label></li>
        </ul>
    </div>
</div>

<script>
    let hideCompleted = true;
    
    // Carica lo stato salvato al caricamento della pagina
    window.onload = function() {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            const saved = localStorage.getItem(checkbox.id);
            if (saved === 'true') {
                checkbox.checked = true;
                if (hideCompleted) {
                    checkbox.parentElement.classList.add('completed');
                }
            }
        });
        updateProgress();
    };

    // Salva lo stato quando cambia una checkbox
    function saveState() {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            localStorage.setItem(checkbox.id, checkbox.checked);
            if (checkbox.checked && hideCompleted) {
                checkbox.parentElement.classList.add('completed');
            } else {
                checkbox.parentElement.classList.remove('completed');
            }
        });
        updateProgress();
    }

    // Resetta tutte le checkbox
    function resetCheckboxes() {
        if (confirm('Sei sicuro di voler resettare tutte le caselle?')) {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = false;
                checkbox.parentElement.classList.remove('completed');
                localStorage.removeItem(checkbox.id);
            });
            updateProgress();
        }
    }
    
    // Mostra/nascondi elementi completati
    function toggleCompleted() {
        hideCompleted = !hideCompleted;
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
                if (hideCompleted) {
                    checkbox.parentElement.classList.add('completed');
                } else {
                    checkbox.parentElement.classList.remove('completed');
                }
            }
        });
    }
    
    // Aggiorna barra progresso
    function updateProgress() {
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        const total = checkboxes.length;
        const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
        const percentage = Math.round((checked / total) * 100);
        
        document.getElementById('progressBar').style.width = percentage + '%';
        document.getElementById('progressText').textContent = `${checked} / ${total} completati (${percentage}%)`;
    }
</script>

</body>
</html>
